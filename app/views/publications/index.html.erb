<div class="container">
  <div class="row">

    <div class="col-sm">
      <h1>Publications</h1>
    </div>

    <div class="col-sm">
    </div>
    <div class="col-sm">
    </div>
    <div class="col-sm">
    </div>

    <div class="col-sm">
    <%= link_to new_publication_path do %>
      <%= image_tag "add.png", :size => '30x30', :alt => "Image", :class => "img-fluid tm-header-img", :title => "Add a new publication" %>
    <% end %>
    </div>
  </div>
</div>    

<hr>


<div class="table-responsive">
  <table class="table table-responsive">
    <thead class="thead-light">
      <tr>
        <th>Publication name</th>
        <th>Date</th>
        <th>Authors</th>
        <th>Pubmed link</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @publications.each do |publication| %>
        <tr>
          <td><%= publication.publication_name %></td>
          <td><%= publication.publication_date %></td>
          <td><%= publication.authors %></td>
          <td> <p> <a href= <%= publication.pubmed_link %> > <%= publication.pubmed_link %> </a> </p> </td>

          <td><%= link_to 'Show', publication_path(publication), class: 'btn btn-outline-secondary btn-sm' %></td>

          <% if user_signed_in?%> 
            <td><%= link_to 'Edit', edit_publication_path(publication), class: 'btn btn-outline-secondary btn-sm' %></td>
            <td><%= link_to 'Delete', publication, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-outline-danger btn-sm' %></td>
          <% end %>  
        </tr>
      <% end %>

    </tbody>
  </table>
</div>

<% if user_signed_in?%>
  <%= link_to 'New Publication', new_publication_path, class:'btn btn-light' %>
 <% else %>
  <p> To create a new publication, please <%= link_to "login",new_user_session_path, class:"link" %> </p>
 <% end %>